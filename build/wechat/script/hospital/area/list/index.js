!function t(e,n,a){function i(r,s){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+r+"'")}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){var n=e[r][1][t];return i(n?n:t)},u,u.exports,t,e,n,a)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)i(a[r]);return i}({1:[function(t,e,n){var a=function(){var t=20,e=0,n=TaoGu.APP.Utility;loginUtil.wxConfRegister(["openLocation","getLocation"]);var a=n.Network.queryString("hospName"),i=n.Network.queryString("hospId"),o=n.Network.queryString("patientId")||"",r={fetchData:function(e,n){$.ajax({url:"/hospital/queryHospitalAreaList.htm",type:"POST",data:{hospId:i,longitude:r.latitude,latitude:r.longitude,count:t,start:e*t},success:function(t){t.code||($('[data-role="areaList"]').removeClass("none"),$('[data-role="hospName"]').removeClass("none"),n(t.list))}})},getLocation:function(){wx?(wx.ready(function(){wx.getLocation({type:"wgs84",success:function(t){var e=t.latitude,n=t.longitude;r.buildList(e,n)},cancel:function(t){r.buildList()}})}),wx.error(function(t){r.buildList()})):r.buildList()},buildDataFunc:function(t,n){n==e&&$('[data-role="hospName"]').find("a").append(a);var i=[];return $.each(t,function(t,e){i.push(['<div class="hos_list_cont" data-name="'+e.hospName+'" data-depId="'+e.hospId+'">','<span class="list_cont_pic"><img src="/common/image/'+e.imageId+'.htm" width="128" height="127" style="-webkit-transition:opacity 300ms linear ;opacity:0;" onload="this.style.opacity=1"></span>','<div class="list_cont_text">',"<h1>"+e.hospName+(e.havaTreat?'<span class="fr blue_btn_sl"> 曾就诊 </span>':"")+(e.distance?'<span class="fr pos_m"><img src="/wechat/images/gray_pos_icon.png" width="18" height="23"> '+e.distance+"</span>":"")+"</h1>","<h2>电话："+function(){var t="";return e.phone1&&(t+=e.phone1),t+=e.phone2&&t?" | "+e.phone2:e.phone2,t+=e.phone3&&t?" | "+e.phone3:e.phone3}()+"</h2>",'<p class="same_occu">地址：'+e.addrDet||"</p>","</div></div>"].join(""))}),i.join("")},buildList:function(n,a){r.latitude=n,r.longitude=a,taoguKit.scrollLoad({wrapper:$('[data-role="areaList"]'),fetchDataFunc:this.fetchData,buildDataFunc:this.buildDataFunc,pageSize:t,currPage:e})},bindEvt:function(){$("body").on("tap","[data-depId]",function(){var t=$(this).data("depid");TaoGu.APP.Utility.Network.relocate("/wechat/html/hospital/office/list/?hospId="+t+"&hospName="+encodeURIComponent($(this).data("name"))+"&patientId="+o)})}};return{init:function(){r.bindEvt(),r.getLocation()}}}();a.init()},{}]},{},[1]);